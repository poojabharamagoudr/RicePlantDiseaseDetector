(window.webpackJsonp=window.webpackJsonp||[]).push([[847],{14109:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),a=n(2),s=n.n(a),d=n(22),r=n.n(d),c=n(23),u=n.n(c),l=(n(14110),n(238)),h=n.n(l),p=n(241),w=n(258),m=n.n(w),f=n(247),v=n(14111),I=n.n(v),D=n(4466),_=n(260),E=n(167),b=function(e){function t(e){i()(this,t);var n=r()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={left:-1},n.preItemNum=-1,n.marginRight=12,n._onShow=function(){n.props.dispatch(D.a(!0))},n._onHide=function(){n.props.dispatch(D.a(!1))},n._initItemsNum=function(e){var t=e.detail.items;n.preItemNum=t.length},n._onInserted=function(e){var t=e.detail.items;t&&t.length>0&&0===n.preItemNum&&n._onShow(),n.preItemNum=t.length},n._onDeleted=function(e){var t=e.detail.items;t&&0===t.length&&n._onHide(),n.preItemNum=t.length},n._updateLeft=function(e){n.setState({left:Math.max(0,e-n.marginRight)})},n.show=function(e){n.props.dispatch(D.a(e))},n}return u()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.debounceInsertOrDelete=window.utils.Lodash.debounce(this._handleInsertOrDelete,100),this.debounceInsert=function(t){e.debounceInsertOrDelete(!0,t)},this.debounceDelete=function(t){e.debounceInsertOrDelete(!1,t)},window.addEventListener(_.default.docmap.SHOW,this._onShow),window.addEventListener(_.default.docmap.HIDE,this._onHide),window.addEventListener(_.default.docmap.INIT,this._initItemsNum),window.addEventListener(_.default.docmap.INSERTED,this.debounceInsert),window.addEventListener(_.default.docmap.DELETED,this.debounceDelete),window.APP.services.docmapManager.openListener()}},{key:"componentWillUnmount",value:function(){this.debounceInsertOrDelete=null,window.removeEventListener(_.default.docmap.SHOW,this._onShow),window.removeEventListener(_.default.docmap.HIDE,this._onHide),window.removeEventListener(_.default.docmap.INIT,this._initItemsNum),window.removeEventListener(_.default.docmap.INSERTED,this.debounceInsert),window.removeEventListener(_.default.docmap.DELETED,this.debounceDelete),window.APP.services.docmapManager.closeListener()}},{key:"_handleInsertOrDelete",value:function(e,t){e?this._onInserted(t):this._onDeleted(t)}},{key:"render",value:function(){var e=this.state.left,t=this.props,n=t.public,o=t.writer,i=t.readOnly,a=t.loadCMB,s=t.taskPaneOpen,d=t.isHorizontalScroll,r=o&&o.docmap.show,c=n&&n.network&&n.network.connected;this.isDocMapPanelLoad=!0===this.isDocMapPanelLoad||!0===r;var u=window.APP.services.docmapManager.getDocMapWidth();return h.a.createElement("div",{className:m()("w-docmap-panel-wrapper",{"w-docmap-show":r,disabled:!c,"no-cmb":!a,"adaptor-scroll-bar":d&&!E.isPad}),style:{left:e,width:u}},this.isDocMapPanelLoad&&Object(f.default)(I.a,{isShow:r,show:this.show,readOnly:i,taskPaneOpen:s,left:e,updateLeft:this._updateLeft}))}}]),t}(l.PureComponent);t.default=Object(p.connect)((function(e){return e}))(b)},14110:function(e,t,n){},14111:function(e,t,n){e.exports=function(e,t){n.e(848).then(n.bind(null,16889)).then((function(t){e&&e(t)})).catch((function(e){/loading.* chunk/i.test(e.message)&&window.badJsFunc(!0,e),console.error(e),t&&t(e)}))}},4466:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(3321),i=function(e){return{type:o.a.DOCMAP_SHOW,data:{show:e}}}}}]);