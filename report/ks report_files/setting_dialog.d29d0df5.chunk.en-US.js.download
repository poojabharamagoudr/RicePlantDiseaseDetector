(window.webpackJsonp=window.webpackJsonp||[]).push([[796],{16087:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(2),i=n.n(a),u=n(22),c=n.n(u),s=n(23),l=n.n(s),d=(n(16088),n(238)),f=n.n(d),p=n(1283),m=n(1370),h=n(591),v=n.n(h),b=n(260),y=n(2502);function w(e,t){return!(e<=0||t!==y.b)&&"[]"===window.APP.data.doc.getText(e-1,3)}var g=function(e){function t(e){r()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.unsupportedStyle={content:"",value:-1},n.footnote_styles=[{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.arabicStyleContent", "1, 2, 3 ..."),value:y.b},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.squareBracketContent", "[1],[2],[3]..."),value:-2,setSquareBrackFormat:!0},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.gb3StyleContent", "①,②,③..."),value:y.y},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.ucLetterStyleContent", "A, B, C..."),value:y.cb},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.lcLetterStyleContent", "a,b,c..."),value:y.N},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.chnDbNum1StyleContent", "1, 2, 3, ..."),value:y.i}],n.endnote_styles=[{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.lcRomanStyleContent", "i, ii, iii..."),value:y.O},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.ucRomanStyleContent", "I, II, III ..."),value:y.db},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.ucLetterStyleContent", "A, B, C..."),value:y.cb},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.lcLetterStyleContent", "a,b,c..."),value:y.N},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.chnDbNum1StyleContent", "1, 2, 3, ..."),value:y.i},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.squareBracketContent", "[1],[2],[3]..."),value:-2,setSquareBrackFormat:!0}],n.endnote_methods=[{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.continuous", "Continuous"),value:0,className:"radio"},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.restartSection", "Restart Each Section"),value:1,className:"radio"}],n.footnote_methods=[{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.continuous", "Continuous"),value:0,className:"radio"},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.restartSection", "Restart Each Section"),value:1,className:"radio"},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.restartPage", "Restart Each Page"),value:2,className:"radio"}],n.ranges=[{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.wholePage", "Entire Document"),value:0,className:"radio"},{content:_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.localSection", "This Section"),value:1,className:"radio"}],n.onStyleChanged=n.onStyleChanged.bind(n),n.onMethodChanged=n.onMethodChanged.bind(n),n.onRangeChanged=n.onRangeChanged.bind(n),n.onOK=n.onOK.bind(n),n.onCancel=n.onCancel.bind(n),n.showDialog=n.showDialog.bind(n),n.closeDialog=n.closeDialog.bind(n),n.modalSwitch=n.modalSwitch.bind(n),n.getStyles=n.getStyles.bind(n),n.getMethods=n.getMethods.bind(n),n.state={visible:!1},n}return l()(t,e),i()(t,[{key:"componentDidMount",value:function(){window.addEventListener(b.default.footnoteEndnote.ON_NOTE_SETTING_DIALOG_SWITCH,this.modalSwitch)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(b.default.footnoteEndnote.ON_NOTE_SETTING_DIALOG_SWITCH,this.modalSwitch)}},{key:"modalSwitch",value:function(e){var t=e.detail,n=t.on,o=t.noteType;if(n){var r=void 0;r=window.APP.data.selection.selContext.isInMainText?window.APP.data.selection.end.position:window.APP.data.selection.selContext.isInFootnote?(window.APP.data.doc.footnoteBodys.getRefByPos(window.APP.data.selection.end.position)||{}).pos:window.APP.data.selection.selContext.isInEndnote?(window.APP.data.doc.endnoteBodys.getRefByPos(window.APP.data.selection.end.position)||{}).pos:void 0;var a=window.APP.data.doc.sections.getSection(r);0==o?this.showDialog({noteType:o,initStyle:a.getFootnotePr().numFormat,initMethod:a.getFootnotePr().numRestart,initRange:0,isSquareBracketFormat:w(r,a.getFootnotePr().numFormat)}):this.showDialog({noteType:o,initStyle:a.getEndnotePr().numFormat,initMethod:a.getEndnotePr().numRestart,initRange:0,isSquareBracketFormat:w(r,a.getEndnotePr().numFormat)})}else this.closeDialog()}},{key:"onStyleChanged",value:function(e){var t=this.state.styles.find((function(t,n){return t.value==e}));this.setState({style:t})}},{key:"onMethodChanged",value:function(e){var t=this.state.methods.find((function(t,n){return t.value==e}));this.setState({method:t})}},{key:"onRangeChanged",value:function(e){var t=this.ranges.find((function(t,n){return t.value==e}));this.setState({range:t})}},{key:"getStyles",value:function(e){return 0==e?this.footnote_styles:this.endnote_styles}},{key:"getMethods",value:function(e){return 0==e?this.footnote_methods:this.endnote_methods}},{key:"showDialog",value:function(e){var t=e.noteType,n=void 0===t?0:t,o=e.initStyle,r=void 0===o?-1:o,a=e.initMethod,i=void 0===a?0:a,u=e.initRange,c=void 0===u?0:u,s=e.isSquareBracketFormat,l=void 0!==s&&s,d=this.getStyles(n),f=d.find((function(e){return l?e.setSquareBrackFormat:e.value==r}))||this.unsupportedStyle,p=this.getMethods(n),m=p.find((function(e){return e.value==i}))||p[0],h=this.ranges.find((function(e){return e.value==c}))||this.ranges[0];this.setState({noteType:n,style:f,styles:d,methods:p,method:m,range:h,visible:!0})}},{key:"closeDialog",value:function(){this.setState({visible:!1})}},{key:"sendOKCollectionMsg",value:function(){var e=this.state,t=e.noteType,n=e.style,o=e.method,r=e.range,a=e.methods,i=e.styles,u=-1;i.find((function(e,t){return u=t,e.value==n.value}));var c=-1;a.find((function(e,t){return c=t,e.value==o.value}));var s=-1;this.ranges.find((function(e,t){return s=t,e.value==r.value}));var l={format:u,method:c,range:s};0==t?window.collection("footnotes_settings",l):window.collection("endnotes_settings",l)}},{key:"onOK",value:function(){this.sendOKCollectionMsg();var e=this.state,t=e.noteType,n=e.style,o=e.method,r=0==e.range.value?{pos:0,len:window.APP.data.doc.getMainTextLength()}:null,a={numberStyle:n.value,numberingRule:o.value};n.setSquareBrackFormat&&(a.setSquareBrackFormat=!0,a.numberStyle=y.b),0==t?window.APP.editor.setFootnotesSettings(r,a):window.APP.editor.setEndnotesSettings(r,a),this.closeDialog()}},{key:"onCancel",value:function(){this.closeDialog()}},{key:"render",value:function(){var e=this.state,t=e.noteType,n=e.style,o=e.styles,r=e.methods,a=e.method,i=e.range,u=e.visible,c=0==t?_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.footnoteSetting", "Footnote Settings"):_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.endnoteSetting", "Endnote Settings"),s=!n||n.value===this.unsupportedStyle.value;return u?f.a.createElement(p.default,{className:"wps-component-footnote_endnote_setting",title:c,okDisabled:s,onOk:this.onOK,onCancel:this.onCancel,showFooter:!0},f.a.createElement("div",{className:"note-setting"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"tip"},_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.numberStyle", "Number Format")),f.a.createElement(m.a,{className:"style-selector",dropdownClassName:"style-selector-dropdown",panelClass:"style-selector-panel",onChange:this.onStyleChanged,options:o,content:n.content,showBorder:!0,value:n.value})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"tip"},_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.numberMethod", "Numbering")),f.a.createElement(v.a,{options:r,value:a.value,onChange:this.onMethodChanged})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"tip"},_i18n("applications.writer.components.CommandBars.RbTab.Home.FootnoteEndnote.applyRange", "Application Scope")),f.a.createElement(v.a,{options:this.ranges,value:i.value,onChange:this.onRangeChanged})))):null}}]),t}(d.PureComponent);t.default=g},16088:function(e,t,n){},2502:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"db",(function(){return r})),n.d(t,"O",(function(){return a})),n.d(t,"cb",(function(){return i})),n.d(t,"N",(function(){return u})),n.d(t,"S",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"T",(function(){return l})),n.d(t,"D",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"s",(function(){return p})),n.d(t,"t",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"I",(function(){return v})),n.d(t,"r",(function(){return b})),n.d(t,"U",(function(){return y})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return g})),n.d(t,"n",(function(){return C})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return k})),n.d(t,"q",(function(){return E})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return R})),n.d(t,"A",(function(){return _})),n.d(t,"m",(function(){return T})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return F})),n.d(t,"y",(function(){return B})),n.d(t,"z",(function(){return N})),n.d(t,"gb",(function(){return j})),n.d(t,"hb",(function(){return D})),n.d(t,"ib",(function(){return H})),n.d(t,"Y",(function(){return I})),n.d(t,"Z",(function(){return x})),n.d(t,"ab",(function(){return M})),n.d(t,"bb",(function(){return A})),n.d(t,"i",(function(){return q})),n.d(t,"j",(function(){return K})),n.d(t,"k",(function(){return L})),n.d(t,"l",(function(){return G})),n.d(t,"J",(function(){return W})),n.d(t,"K",(function(){return V})),n.d(t,"L",(function(){return J})),n.d(t,"M",(function(){return U})),n.d(t,"B",(function(){return z})),n.d(t,"c",(function(){return Q})),n.d(t,"C",(function(){return X})),n.d(t,"d",(function(){return Y})),n.d(t,"E",(function(){return Z})),n.d(t,"F",(function(){return $})),n.d(t,"G",(function(){return ee})),n.d(t,"H",(function(){return te})),n.d(t,"V",(function(){return ne})),n.d(t,"W",(function(){return oe})),n.d(t,"X",(function(){return re})),n.d(t,"fb",(function(){return ae})),n.d(t,"R",(function(){return ie})),n.d(t,"P",(function(){return ue})),n.d(t,"eb",(function(){return ce})),n.d(t,"Q",(function(){return se}));var o=0,r=1,a=2,i=3,u=4,c=5,s=6,l=7,d=8,f=9,p=10,m=11,h=12,v=13,b=14,y=15,w=16,g=17,C=18,S=19,k=20,E=21,P=22,R=23,_=24,T=25,O=26,F=27,B=28,N=29,j=30,D=31,H=32,I=33,x=34,M=35,A=36,q=37,K=38,L=39,G=40,W=41,V=42,J=43,U=44,z=45,Q=46,X=47,Y=48,Z=49,$=50,ee=51,te=52,ne=53,oe=54,re=55,ae=56,ie=57,ue=58,ce=59,se=60},591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);n(866);var r=o.__importStar(n(238)),a=o.__importDefault(n(702)),i=function(e){function t(t){var n=e.call(this,t)||this;n.handleChange=function(e){n.setState({value:e}),n.props.onChange&&n.props.onChange(e)},n.refRadios=[];var o=t.value,r=t.defaultValue,a=t.options,i=void 0===r?o:r;return i=void 0===i?a[0].value:i,n.state={value:i},n}return o.__extends(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.value;return void 0!==n&&n!==t.value?{value:n}:null},t.prototype.getCheckedValue=function(){return this.state.value},t.prototype.renderItems=function(){var e=this,t=this.props,n=t.options,i=t.tabIndex,u=this.state.value;return n.map((function(t,n){return r.default.createElement(a.default,o.__assign({key:n,ref:function(t){return e.refRadios[n]=t}},t,{tabIndex:i,checked:t.value===u,value:t.value,onChange:e.handleChange}),t.content)}))},t.prototype.render=function(){var e=this.props.className,t=r.default.classNames({"wo-radio-group":1},e);return r.default.createElement("div",{className:t},this.renderItems())},t}(r.PureComponent);t.default=i},642:function(e,t,n){"use strict";n.r(t);var o=n(238),r=n.n(o),a=n(262);n(669);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===i(a)?a:String(a)),o)}var r,a}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(l,e);var t,n,o,i=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).handleKeyDown=function(e){t.state.checked||32===e.keyCode&&(e.preventDefault(),t.setState({checked:!0}),t.props.onChange&&t.props.onChange(t.props.value))},t.state={checked:t.getChecked(e),focus:!1},t}return t=l,(n=[{key:"componentDidUpdate",value:function(e){if(this.props.checked!==e.checked){var t=this.getChecked(this.props);this.state.checked!==t&&this.setState({checked:t})}}},{key:"onChange",value:function(e){var t=e.target.checked;t&&this.props.onChange&&this.props.onChange(this.props.value),this.setState({checked:t})}},{key:"onFocus",value:function(){this.setState({focus:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"getChecked",value:function(e){return Boolean(e.checked)}},{key:"render",value:function(){var e=this.state,t=e.checked,n=e.focus,o=this.props,i=o.className,u=o.disabled,c=o.value,s=o.children,l=o.tabIndex;return r.a.createElement("label",{className:Object(a.a)("kd-radio",i),tabIndex:u?-1:l||0,onKeyDown:this.handleKeyDown},r.a.createElement("span",{className:Object(a.a)({"kd-radio-input":!0,"is-checked":t,"is-disabled":u,"is-focus":n})},r.a.createElement("span",{className:"kd-radio-inner"}),r.a.createElement("input",{type:"radio",className:"kd-radio-original",checked:t,disabled:u,onChange:this.onChange.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),tabIndex:-1})),r.a.createElement("span",{className:"kd-radio-label"},s||c))}}])&&u(t.prototype,n),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.Component);f.elementType="Radio";n(670);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,a=void 0,a=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===p(a)?a:String(a)),o)}var r,a}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,e);var t,n,o,i=v(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=i.call(this,e);var n=e.value,o=e.defaultValue;return t.state={value:void 0===o?n:o},t}return t=u,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.value;return void 0!==n&&n!==t.value?{value:n}:null}}],(n=[{key:"onChange",value:function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=Object(a.a)("kd-radio-group","kd-radio-group-".concat(this.props.layout),this.props.className);return r.a.createElement("div",{className:t,style:this.props.style},r.a.Children.map(this.props.children,(function(t){if(!t)return null;var n=t.type.elementType;return"Radio"!==n&&"RadioButton"!==n?null:r.a.cloneElement(t,Object.assign({},t.props,{onChange:e.onChange.bind(e),checked:t.props.value==e.state.value,disabled:e.props.disabled}))})))}}])&&m(t.prototype,n),o&&m(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.Component);w.defaultProps={layout:"horizontal"},f.Group=w;t.default=f},669:function(e,t,n){},670:function(e,t,n){},702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);n(728);var r=o.__importStar(n(238)),a=o.__importDefault(n(642)),i=o.__importDefault(n(252)),u=function(e){function t(t){var n=e.call(this,t)||this;n.handleClick=function(){n.refWrap.current.scrollIntoViewIfNeeded();var e=n.props,t=e.onChange,o=e.value;void 0===e.checked&&n.setState({checked:!0}),t&&t(o)},n.refWrap=r.default.createRef(),n.refRadio=r.default.createRef();var o=t.checked,a=t.defaultChecked,i=void 0===a?!!o:a;return n.state={checked:i},n}return o.__extends(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.checked;return void 0!==n&&n!==t.checked?{checked:n}:null},t.prototype.getChecked=function(){return this.state.checked},t.prototype.focus=function(){this.refRadio.current.onFocus()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,o=e.title,u=e.children,c=e.tabIndex,s=e.value,l=this.state.checked,d=n?null:o,f=r.default.classNames({"wo-radio":1},t);return r.default.createElement(i.default,{title:d},r.default.createElement("div",{ref:this.refWrap,className:f,tabIndex:c},r.default.createElement(a.default,{ref:this.refRadio,disabled:n,checked:l,value:s,onChange:this.handleClick},u)))},t.Group=a.default.Group,t.elementType="Radio",t}(r.PureComponent);t.default=u},728:function(e,t,n){},866:function(e,t,n){}}]);